<div class="documentation-content" data-astro-cid-fqvarkq3="">  <div class="breadcrumbs-container" data-astro-cid-ed5fp7yv=""> <div id="db-resizer" class="select" style="position:absolute;top:-9999px;left:-9999px;visibility:hidden;white-space:nowrap" data-astro-cid-ed5fp7yv=""> SQLite </div> <div id="db-type-resizer" class="select" style="position:absolute;top:-9999px;left:-9999px;visibility:hidden;white-space:nowrap" data-astro-cid-ed5fp7yv=""> New database </div> <div data-astro-cid-ed5fp7yv="">Meet Drizzle</div> <div class="dot" data-astro-cid-ed5fp7yv=""></div> <a class="link" href="/docs/get-started" data-astro-cid-ed5fp7yv="">Get started</a> <div class="dot" data-astro-cid-ed5fp7yv=""></div> <select id="db-type-select" class="select" data-astro-cid-ed5fp7yv="" style="width: 90px;"> <option value="new" selected="" data-astro-cid-ed5fp7yv="">
New database
</option> <option value="existing" data-astro-cid-ed5fp7yv="">
Existing database
</option> </select> <div class="dot" data-astro-cid-ed5fp7yv=""></div> <select id="db-select" class="select" data-astro-cid-ed5fp7yv="" style="width: 41px;"> <option id="PostgreSQL" value="PostgreSQL" data-astro-cid-ed5fp7yv=""> PostgreSQL </option><option id="Neon" value="Neon" data-astro-cid-ed5fp7yv=""> Neon </option><option id="Vercel Postgres" value="Vercel Postgres" data-astro-cid-ed5fp7yv=""> Vercel Postgres </option><option id="Supabase" value="Supabase" data-astro-cid-ed5fp7yv=""> Supabase </option><option id="Xata" value="Xata" data-astro-cid-ed5fp7yv=""> Xata </option><option id="PGLite" value="PGLite" data-astro-cid-ed5fp7yv=""> PGLite </option><option id="Nile" value="Nile" data-astro-cid-ed5fp7yv=""> Nile </option><option id="Bun SQL" value="Bun SQL" data-astro-cid-ed5fp7yv=""> Bun SQL </option><option id="Effect" value="Effect" data-astro-cid-ed5fp7yv=""> Effect </option><option id="PlanetScale Postgres" value="PlanetScale Postgres" data-astro-cid-ed5fp7yv=""> PlanetScale Postgres </option><option id="Gel" value="Gel" data-astro-cid-ed5fp7yv=""> Gel </option><option id="MySQL" value="MySQL" data-astro-cid-ed5fp7yv=""> MySQL </option><option id="PlanetScale" value="PlanetScale" data-astro-cid-ed5fp7yv=""> PlanetScale </option><option id="TiDB" value="TiDB" data-astro-cid-ed5fp7yv=""> TiDB </option><option id="SingleStore" value="SingleStore" data-astro-cid-ed5fp7yv=""> SingleStore </option><option id="SQLite" value="SQLite" selected="" data-astro-cid-ed5fp7yv=""> SQLite </option><option id="Turso Cloud" value="Turso Cloud" data-astro-cid-ed5fp7yv=""> Turso Cloud </option><option id="SQLite Cloud" value="SQLite Cloud" data-astro-cid-ed5fp7yv=""> SQLite Cloud </option><option id="Turso Database" value="Turso Database" data-astro-cid-ed5fp7yv=""> Turso Database </option><option id="Cloudflare D1" value="Cloudflare D1" data-astro-cid-ed5fp7yv=""> Cloudflare D1 </option><option id="Bun SQLite" value="Bun SQLite" data-astro-cid-ed5fp7yv=""> Bun SQLite </option><option id="Cloudflare Durable Objects" value="Cloudflare Durable Objects" data-astro-cid-ed5fp7yv=""> Cloudflare Durable Objects </option><option id="MSSQL" value="MSSQL" data-astro-cid-ed5fp7yv=""> MSSQL </option><option id="CockroachDB" value="CockroachDB" data-astro-cid-ed5fp7yv=""> CockroachDB </option><option id="Expo SQLite" value="Expo SQLite" data-astro-cid-ed5fp7yv=""> Expo SQLite </option><option id="OP SQLite" value="OP SQLite" data-astro-cid-ed5fp7yv=""> OP SQLite </option> </select> </div> <script data-astro-exec="">(function(){const currentItem = {"name":"SQLite","path":{"existing":"/docs/get-started/sqlite-existing","new":"/docs/get-started/sqlite-new"},"icon":{"light":{"path":"/public/svg/sqlite.svg","style":{"width":20}},"dark":{"path":"/public/svg/sqlite.svg","style":{"width":20}}}};
const flatItems = [{"name":"PostgreSQL","path":{"existing":"/docs/get-started/postgresql-existing","new":"/docs/get-started/postgresql-new"},"icon":{"light":{"path":"/public/svg/postgresql.svg","style":{"width":20}},"dark":{"path":"/public/svg/postgresql.svg","style":{"width":20,"fill":"#f0f0f0"}}}},{"name":"Neon","path":{"existing":"/docs/get-started/neon-existing","new":"/docs/get-started/neon-new"},"icon":{"light":{"path":"/public/svg/neon-light.svg","style":{"width":20}},"dark":{"path":"/public/svg/neon-dark.svg","style":{"width":20}}}},{"name":"Vercel Postgres","path":{"existing":"/docs/get-started/vercel-existing","new":"/docs/get-started/vercel-new"},"icon":{"light":{"path":"/public/svg/vercel.svg","style":{"width":20}},"dark":{"path":"/public/svg/vercel.svg","style":{"width":20,"fill":"#000000"}}}},{"name":"Supabase","path":{"existing":"/docs/get-started/supabase-existing","new":"/docs/get-started/supabase-new"},"icon":{"light":{"path":"/public/svg/supabase.svg","style":{"width":20}},"dark":{"path":"/public/svg/supabase.svg","style":{"width":20}}}},{"name":"Xata","path":{"existing":"/docs/get-started/xata-existing","new":"/docs/get-started/xata-new"},"icon":{"light":{"path":"/public/svg/xata.svg","style":{"width":26}},"dark":{"path":"/public/svg/xata.svg","style":{"width":26}}}},{"name":"PGLite","path":{"existing":"/docs/get-started/pglite-existing","new":"/docs/get-started/pglite-new"},"icon":{"light":{"path":"/public/svg/pglite.svg","style":{"width":26}},"dark":{"path":"/public/svg/pglite.svg","style":{"width":26}}}},{"name":"Nile","path":{"existing":"/docs/get-started/nile-existing","new":"/docs/get-started/nile-new"},"icon":{"light":{"path":"/public/svg/nile.svg"},"dark":{"path":"/public/svg/nile.svg"}}},{"name":"Bun SQL","path":{"existing":"/docs/get-started/bun-sql-existing","new":"/docs/get-started/bun-sql-new"},"icon":{"light":{"path":"/public/svg/bun.svg","style":{"width":20}},"dark":{"path":"/public/svg/bun.svg","style":{"width":20}}}},{"name":"Effect","path":{"existing":"/docs/get-started/effect-postgresql-existing","new":"/docs/get-started/effect-postgresql-new"},"icon":{"light":{"path":"/public/svg/effect_light.svg","style":{"width":20,"fill":"#f0f0f0"}},"dark":{"path":"/public/svg/effect.svg","style":{"width":20,"fill":"#f0f0f0"}}}},{"name":"PlanetScale Postgres","path":{"existing":"/docs/get-started/planetscale-postgres-existing","new":"/docs/get-started/planetscale-postgres-new"},"icon":{"light":{"path":"/public/svg/planetscale.svg","style":{"width":20}},"dark":{"path":"/public/svg/planetscale.svg","style":{"width":20,"color":"#f0f0f0"}}}},{"name":"Gel","path":{"existing":"/docs/get-started/gel-existing","new":"/docs/get-started/gel-new"},"icon":{"light":{"path":"/public/svg/gel_light.svg","style":{"style":"border-radius: 5px","width":34,"height":34}},"dark":{"path":"/public/svg/gel_dark.svg","style":{"style":"border-radius: 5px","width":34,"height":34}}}},{"name":"MySQL","path":{"existing":"/docs/get-started/mysql-existing","new":"/docs/get-started/mysql-new"},"icon":{"light":{"path":"/public/svg/mysql.svg","style":{"width":20,"fill":"#00546B"}},"dark":{"path":"/public/svg/mysql.svg","style":{"width":20,"fill":"#F0F0F0"}}}},{"name":"PlanetScale","path":{"existing":"/docs/get-started/planetscale-existing","new":"/docs/get-started/planetscale-new"},"icon":{"light":{"path":"/public/svg/planetscale.svg","style":{"width":20}},"dark":{"path":"/public/svg/planetscale.svg","style":{"width":20,"color":"#f0f0f0"}}}},{"name":"TiDB","path":{"existing":"/docs/get-started/tidb-existing","new":"/docs/get-started/tidb-new"},"icon":{"light":{"path":"/public/svg/tidb.svg","style":{"width":20}},"dark":{"path":"/public/svg/tidb.svg","style":{"width":20}}}},{"name":"SingleStore","path":{"existing":"/docs/get-started/singlestore-existing","new":"/docs/get-started/singlestore-new"},"icon":{"light":{"path":"/public/svg/singlestore_light.svg","style":{"width":20,"fill":"#00546B"}},"dark":{"path":"/public/svg/singlestore_dark.svg","style":{"width":20,"fill":"#F0F0F0"}}}},{"name":"SQLite","path":{"existing":"/docs/get-started/sqlite-existing","new":"/docs/get-started/sqlite-new"},"icon":{"light":{"path":"/public/svg/sqlite.svg","style":{"width":20}},"dark":{"path":"/public/svg/sqlite.svg","style":{"width":20}}}},{"name":"Turso Cloud","path":{"existing":"/docs/get-started/turso-existing","new":"/docs/get-started/turso-new"},"icon":{"light":{"path":"/public/svg/new-turso.svg","style":{"width":26}},"dark":{"path":"/public/svg/new-turso-light.svg","style":{"width":26}}}},{"name":"SQLite Cloud","path":{"existing":"/docs/get-started/sqlite-cloud-existing","new":"/docs/get-started/sqlite-cloud-new"},"icon":{"light":{"path":"/public/svg/sqlite-cloud.svg","style":{"width":26}},"dark":{"path":"/public/svg/sqlite-cloud.svg","style":{"width":26}}}},{"name":"Turso Database","path":{"existing":"/docs/get-started/turso-database-existing","new":"/docs/get-started/turso-database-new"},"icon":{"light":{"path":"/public/svg/new-turso.svg","style":{"width":26}},"dark":{"path":"/public/svg/new-turso-light.svg","style":{"width":26}}}},{"name":"Cloudflare D1","path":{"existing":"/docs/get-started/d1-existing","new":"/docs/get-started/d1-new"},"icon":{"light":{"path":"/public/svg/cloudflare.svg","style":{"width":26}},"dark":{"path":"/public/svg/cloudflare.svg","style":{"width":26}}}},{"name":"Bun SQLite","path":{"existing":"/docs/get-started/bun-sqlite-existing","new":"/docs/get-started/bun-sqlite-new"},"icon":{"light":{"path":"/public/svg/bun.svg","style":{"width":20}},"dark":{"path":"/public/svg/bun.svg","style":{"width":20}}}},{"name":"Cloudflare Durable Objects","path":{"existing":"/docs/get-started/do-existing","new":"/docs/get-started/do-new"},"icon":{"light":{"path":"/public/svg/cloudflare.svg","style":{"width":26}},"dark":{"path":"/public/svg/cloudflare.svg","style":{"width":26}}}},{"name":"MSSQL","path":{"existing":"/docs/get-started/mssql-existing","new":"/docs/get-started/mssql-new"},"icon":{"light":{"path":"/public/svg/mssql-light.png","style":{"style":"border-radius: 5px","width":34,"height":34}},"dark":{"path":"/public/svg/mssql-dark.png","style":{"style":"border-radius: 5px","width":34,"height":34}}}},{"name":"CockroachDB","path":{"existing":"/docs/get-started/cockroach-existing","new":"/docs/get-started/cockroach-new"},"icon":{"light":{"path":"/public/svg/cockroachdb-light.png","style":{"style":"border-radius: 5px","width":"24px"}},"dark":{"path":"/public/svg/cockroachdb-dark.png","style":{"style":"border-radius: 5px","width":"24px"}}}},{"name":"Expo SQLite","path":{"existing":"/docs/get-started/expo-existing","new":"/docs/get-started/expo-new"},"icon":{"light":{"path":"/public/svg/expo.svg","style":{"width":20}},"dark":{"path":"/public/svg/expo.svg","style":{"width":20}}}},{"name":"OP SQLite","path":{"existing":"/docs/get-started/op-sqlite-existing","new":"/docs/get-started/op-sqlite-new"},"icon":{"light":{"path":"/public/svg/opsqlite.png","style":{"width":"20px","borderRadius":"4px"}},"dark":{"path":"/public/svg/opsqlite.png","style":{"width":"20px","borderRadius":"4px"}}}}];
const databaseType = "new";

  const dbSelect = document.getElementById('db-select');
  const dbTypeSelect = document.getElementById('db-type-select');
  const dbSelectResizer = document.getElementById('db-resizer');
  const dbTypeSelectResizer = document.getElementById('db-type-resizer');

  dbSelect.addEventListener('change', (e) => {
    dbSelectResizer.innerText = e.target.value;
    dbSelect.style.width = `${dbSelectResizer.offsetWidth}px`;
    window.location.href = flatItems.find(({name}) => name === e.target.value).path[databaseType];
  });
  dbTypeSelect.addEventListener('change', (e) => {
    dbTypeSelectResizer.innerText = e.target.value === 'new' ? 'New database' : 'Existing database'
    dbTypeSelect.style.width = `${dbTypeSelectResizer.offsetWidth}px`;
    window.location.href = currentItem.path[e.target.value]
  });

  dbSelect.style.width = `${dbSelectResizer.offsetWidth}px`;
  dbTypeSelect.style.width = `${dbTypeSelectResizer.offsetWidth}px`;
})();</script> 
<h1 id="get-started-with-drizzle-and-sqlite">Get Started with Drizzle and SQLite</h1>
<div class="prerequisites_wrap"> <div class="prerequisites_title">
This guide assumes familiarity with:
</div> <ul>
<li><strong>dotenv</strong> - package for managing environment variables - <a href="https://www.npmjs.com/package/dotenv" target="_blank" rel="nofollow noreferrer">read here</a></li>
<li><strong>tsx</strong> - package for running TypeScript files - <a href="https://tsx.is/" target="_blank" rel="nofollow noreferrer">read here</a></li>
<li><strong>libsql</strong> - a fork of SQLite optimized for low query latency, making it suitable for global applications - <a href="https://docs.turso.tech/libsql" target="_blank" rel="nofollow noreferrer">read here</a></li>
</ul> </div> 
<p>Drizzle has native support for SQLite connections with the <code>libsql</code> and <code>better-sqlite3</code> drivers.</p>
<p>We will use <code>libsql</code> for this get started example. But if you want to find more ways to connect to SQLite check
our <a href="/docs/get-started-sqlite">SQLite Connection</a> page</p>
<h4 id="basic-file-structure">Basic file structure<a class="autolink-header" aria-hidden="true" tabindex="-1" href="#basic-file-structure"><span class="icon icon-link"></span></a></h4>
<p>This is the basic file structure of the project. In the <code>src/db</code> directory, we have table definition in <code>schema.ts</code>. In <code>drizzle</code> folder there are sql migration file and snapshots.</p>
<figure class="code-snippet lang-plaintext" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>ðŸ“¦ &lt;project root&gt;</span></span>
<span class="line"><span> â”œ ðŸ“‚ drizzle</span></span>
<span class="line"><span> â”œ ðŸ“‚ src</span></span>
<span class="line"><span> â”‚   â”œ ðŸ“‚ db</span></span>
<span class="line"><span> â”‚   â”‚  â”” ðŸ“œ schema.ts</span></span>
<span class="line"><span> â”‚   â”” ðŸ“œ index.ts</span></span>
<span class="line"><span> â”œ ðŸ“œ .env</span></span>
<span class="line"><span> â”œ ðŸ“œ drizzle.config.ts</span></span>
<span class="line"><span> â”œ ðŸ“œ package.json</span></span>
<span class="line"><span> â”” ðŸ“œ tsconfig.json</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="ðŸ“¦ &lt;project root&gt;
 â”œ ðŸ“‚ drizzle
 â”œ ðŸ“‚ src
 â”‚   â”œ ðŸ“‚ db
 â”‚   â”‚  â”” ðŸ“œ schema.ts
 â”‚   â”” ðŸ“œ index.ts
 â”œ ðŸ“œ .env
 â”œ ðŸ“œ drizzle.config.ts
 â”œ ðŸ“œ package.json
 â”” ðŸ“œ tsconfig.json
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure>
<h4 id="step-1---install-required-packages">Step 1 - Install required packages<a href="#step-1---install-required-packages" class="autolink-header"><span class="icon icon-link"></span></a></h4>
<div class="npm__wrapper"> <div class="npm__tabs"> <div class="npm__tab npm__tab--active" data-change-npm-btn=""> npm </div><div class="npm__tab" data-change-npm-btn=""> yarn </div><div class="npm__tab" data-change-npm-btn=""> pnpm </div><div class="npm__tab" data-change-npm-btn=""> bun </div> </div> <div class="npm__content"> <figure style="position: relative;" class="false code-snippet lang-shell "><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" lang="shell"><code><span class="line"><span style="color:var(--astro-code-token-function)">npm i</span><span style="color:var(--astro-code-token-string)"> drizzle-orm @libsql/client dotenv</span></span>
<span class="line"><span style="color:var(--astro-code-token-function)">npm i</span><span style="color:var(--astro-code-token-string)"> -D drizzle-kit tsx</span></span></code></pre>
      <div class="btn-container">
  <button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="npm i drizzle-orm @libsql/client dotenv
npm i -D drizzle-kit tsx">
    <svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path>
    </svg>
  </button>
</div>
      </figure><figure style="position: relative;" class="false code-snippet lang-shell hidden"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" lang="shell"><code><span class="line"><span style="color:var(--astro-code-token-function)">yarn add</span><span style="color:var(--astro-code-token-string)"> drizzle-orm @libsql/client dotenv</span></span>
<span class="line"><span style="color:var(--astro-code-token-function)">yarn add</span><span style="color:var(--astro-code-token-string)"> -D drizzle-kit tsx</span></span></code></pre>
      <div class="btn-container">
  <button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="yarn add drizzle-orm @libsql/client dotenv
yarn add -D drizzle-kit tsx">
    <svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path>
    </svg>
  </button>
</div>
      </figure><figure style="position: relative;" class="false code-snippet lang-shell hidden"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" lang="shell"><code><span class="line"><span style="color:var(--astro-code-token-function)">pnpm add</span><span style="color:var(--astro-code-token-string)"> drizzle-orm @libsql/client dotenv</span></span>
<span class="line"><span style="color:var(--astro-code-token-function)">pnpm add</span><span style="color:var(--astro-code-token-string)"> -D drizzle-kit tsx</span></span></code></pre>
      <div class="btn-container">
  <button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="pnpm add drizzle-orm @libsql/client dotenv
pnpm add -D drizzle-kit tsx">
    <svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path>
    </svg>
  </button>
</div>
      </figure><figure style="position: relative;" class="false code-snippet lang-shell hidden"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" lang="shell"><code><span class="line"><span style="color:var(--astro-code-token-function)">bun add</span><span style="color:var(--astro-code-token-string)"> drizzle-orm @libsql/client dotenv</span></span>
<span class="line"><span style="color:var(--astro-code-token-function)">bun add</span><span style="color:var(--astro-code-token-string)"> -D drizzle-kit tsx</span></span></code></pre>
      <div class="btn-container">
  <button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="bun add drizzle-orm @libsql/client dotenv
bun add -D drizzle-kit tsx">
    <svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path>
    </svg>
  </button>
</div>
      </figure> </div> </div>
<h4 id="step-2---setup-connection-variables">Step 2 - Setup connection variables<a href="#step-2---setup-connection-variables" class="autolink-header"><span class="icon icon-link"></span></a></h4>
<p>Create a <code>.env</code> file in the root of your project and add your database connection variable:</p>
<div> <figure class="code-snippet lang-plaintext one-line-btn-container" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>DB_FILE_NAME=</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="DB_FILE_NAME=
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure> </div>
<div class="callout-label info" data-astro-cid-h2ah3sfh="">important</div><div class="callout-wrap" data-astro-cid-h2ah3sfh=""><div class="callout-content" data-astro-cid-h2ah3sfh=""><div class="content" data-astro-cid-h2ah3sfh=""><p>For example, if you want to create an SQLite database file in the root of your project for testing purposes, you need to use <code>file:</code> before the actual filename, as this is the format required by <code>LibSQL</code>, like this:</p><figure class="code-snippet lang-plaintext one-line-btn-container" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="plaintext"><code><span class="line"><span>DB_FILE_NAME=file:local.db</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="DB_FILE_NAME=file:local.db
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure><p>You can check the <strong><a href="https://docs.turso.tech/sdk/ts/reference#local-development" target="_blank" rel="nofollow noreferrer">LibSQL docs</a></strong> for more info.</p></div></div></div><script data-astro-rerun="" data-astro-exec="">
  document.querySelectorAll('.callout-wrap-collapsed').forEach((el) => el.addEventListener('click', (e) => {
      console.log('expand');
    e.target?.closest(".callout-wrap-collapsed")?.classList.remove('callout-wrap-collapsed');
  }))

  document.querySelectorAll("[data-callout-collapse-btn]").forEach((n) => {
    n.addEventListener("click", (e) => {
      e.stopPropagation();
      const parent = n.closest(".callout-wrap");
      if (parent) {
        parent.classList.add("callout-wrap-collapsed");
      }
    });
  });
</script>
<h4 id="step-3---connect-drizzle-orm-to-the-database">Step 3 - Connect Drizzle ORM to the database<a href="#step-3---connect-drizzle-orm-to-the-database" class="autolink-header"><span class="icon icon-link"></span></a></h4>
<p>Create a <code>index.ts</code> file in the <code>src</code> directory and initialize the connection:</p>
<div class="codetabs_wrapper"> <div class="codetabs_tabs"> <div class="codetabs_tab--active" data-change-code-tab-btn="">libsql</div><div class="codetabs_tab" data-change-code-tab-btn="">libsql with config</div> </div> <div class="code codetabs_codeBlock"> <figure class="code-snippet lang-plaintext" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-token-string-expression)"> 'dotenv/config'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { drizzle } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> 'drizzle-orm/libsql'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">const</span><span style="color:var(--astro-code-token-constant)"> db</span><span style="color:var(--astro-code-token-keyword)"> =</span><span style="color:var(--astro-code-token-function)"> drizzle</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-constant)">process</span><span style="color:var(--astro-code-color-text)">.</span><span style="color:var(--astro-code-token-constant)">env</span><span style="color:var(--astro-code-color-text)">.</span><span style="color:var(--astro-code-token-constant)">DB_FILE_NAME</span><span style="color:var(--astro-code-token-keyword)">!</span><span style="color:var(--astro-code-color-text)">);</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="import 'dotenv/config';
import { drizzle } from 'drizzle-orm/libsql';

const db = drizzle(process.env.DB_FILE_NAME!);
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure><figure class="code-snippet lang-plaintext hidden" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-token-string-expression)"> 'dotenv/config'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { drizzle } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> 'drizzle-orm/libsql'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">// You can specify any property from the libsql connection options</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">const</span><span style="color:var(--astro-code-token-constant)"> db</span><span style="color:var(--astro-code-token-keyword)"> =</span><span style="color:var(--astro-code-token-function)"> drizzle</span><span style="color:var(--astro-code-color-text)">({ connection</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-color-text)"> { url</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-constant)"> process</span><span style="color:var(--astro-code-color-text)">.</span><span style="color:var(--astro-code-token-constant)">env</span><span style="color:var(--astro-code-color-text)">.</span><span style="color:var(--astro-code-token-constant)">DB_FILE_NAME</span><span style="color:var(--astro-code-token-keyword)">!</span><span style="color:var(--astro-code-color-text)"> }});</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="import 'dotenv/config';
import { drizzle } from 'drizzle-orm/libsql';

// You can specify any property from the libsql connection options
const db = drizzle({ connection: { url: process.env.DB_FILE_NAME! }});
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure> </div> </div> 
<p>If you need to provide your existing driver:</p>
<figure class="code-snippet lang-plaintext" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-token-string-expression)"> 'dotenv/config'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { drizzle } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> 'drizzle-orm/libsql'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { createClient } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> '@libsql/client'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">const</span><span style="color:var(--astro-code-token-constant)"> client</span><span style="color:var(--astro-code-token-keyword)"> =</span><span style="color:var(--astro-code-token-function)"> createClient</span><span style="color:var(--astro-code-color-text)">({ url</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-constant)"> process</span><span style="color:var(--astro-code-color-text)">.</span><span style="color:var(--astro-code-token-constant)">env</span><span style="color:var(--astro-code-color-text)">.</span><span style="color:var(--astro-code-token-constant)">DB_FILE_NAME</span><span style="color:var(--astro-code-token-keyword)">!</span><span style="color:var(--astro-code-color-text)"> });</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">const</span><span style="color:var(--astro-code-token-constant)"> db</span><span style="color:var(--astro-code-token-keyword)"> =</span><span style="color:var(--astro-code-token-function)"> drizzle</span><span style="color:var(--astro-code-color-text)">({ client });</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="import 'dotenv/config';
import { drizzle } from 'drizzle-orm/libsql';
import { createClient } from '@libsql/client';

const client = createClient({ url: process.env.DB_FILE_NAME! });
const db = drizzle({ client });
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure>
<h4 id="step-4---create-a-table">Step 4 - Create a table<a href="#step-4---create-a-table" class="autolink-header"><span class="icon icon-link"></span></a></h4>
<p>Create a <code>schema.ts</code> file in the <code>src/db</code> directory and declare your table:</p>
<figure class="code-snippet lang-plaintext has-title" style="position:relative"><figcaption class="header"><span class="title">src/db/schema.ts</span><button aria-label="Copy" data-copy-btn="" class="button-wrap button-wrap--title" data-code="import { int, sqliteTable, text } from &quot;drizzle-orm/sqlite-core&quot;;

export const usersTable = sqliteTable(&quot;users_table&quot;, {
  id: int().primaryKey({ autoIncrement: true }),
  name: text().notNull(),
  age: int().notNull(),
  email: text().notNull().unique(),
});
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { int</span><span style="color:var(--astro-code-token-punctuation)">,</span><span style="color:var(--astro-code-color-text)"> sqliteTable</span><span style="color:var(--astro-code-token-punctuation)">,</span><span style="color:var(--astro-code-color-text)"> text } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> "drizzle-orm/sqlite-core"</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">export</span><span style="color:var(--astro-code-token-keyword)"> const</span><span style="color:var(--astro-code-token-constant)"> usersTable</span><span style="color:var(--astro-code-token-keyword)"> =</span><span style="color:var(--astro-code-token-function)"> sqliteTable</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-string-expression)">"users_table"</span><span style="color:var(--astro-code-token-punctuation)">,</span><span style="color:var(--astro-code-color-text)"> {</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  id</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-function)"> int</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-function)">.primaryKey</span><span style="color:var(--astro-code-color-text)">({ autoIncrement</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-constant)"> true</span><span style="color:var(--astro-code-color-text)"> })</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  name</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-function)"> text</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-function)">.notNull</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  age</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-function)"> int</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-function)">.notNull</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  email</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-function)"> text</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-function)">.notNull</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-function)">.unique</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">});</span></span></code></pre><div class="btn-container"></div></figure>
<h4 id="step-5---setup-drizzle-config-file">Step 5 - Setup Drizzle config file<a href="#step-5---setup-drizzle-config-file" class="autolink-header"><span class="icon icon-link"></span></a></h4>
<p><strong>Drizzle config</strong> - a configuration file that is used by <a href="/docs/kit-overview">Drizzle Kit</a> and contains all the information about your database connection, migration folder and schema files.</p>
<p>Create a <code>drizzle.config.ts</code> file in the root of your project and add the following content:</p>
<div> <figure class="code-snippet lang-plaintext has-title" style="position:relative"><figcaption class="header"><span class="title">drizzle.config.ts</span><button aria-label="Copy" data-copy-btn="" class="button-wrap button-wrap--title" data-code="import 'dotenv/config';
import { defineConfig } from 'drizzle-kit';

export default defineConfig({
  out: './drizzle',
  schema: './src/db/schema.ts',
  dialect: 'sqlite',
  dbCredentials: {
    url: process.env.DB_FILE_NAME!,
  },
});
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-token-string-expression)"> 'dotenv/config'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { defineConfig } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> 'drizzle-kit'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">export</span><span style="color:var(--astro-code-token-keyword)"> default</span><span style="color:var(--astro-code-token-function)"> defineConfig</span><span style="color:var(--astro-code-color-text)">({</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  out</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-string-expression)"> './drizzle'</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  schema</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-string-expression)"> './src/db/schema.ts'</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  dialect</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-string-expression)"> 'sqlite'</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  dbCredentials</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-color-text)"> {</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">    url</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-constant)"> process</span><span style="color:var(--astro-code-color-text)">.</span><span style="color:var(--astro-code-token-constant)">env</span><span style="color:var(--astro-code-color-text)">.DB_FILE_NAME</span><span style="color:var(--astro-code-token-keyword)">!</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  }</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">});</span></span></code></pre><div class="btn-container"></div></figure> </div>
<h4 id="step-6---applying-changes-to-the-database">Step 6 - Applying changes to the database<a href="#step-6---applying-changes-to-the-database" class="autolink-header"><span class="icon icon-link"></span></a></h4>
<p>You can directly apply changes to your database using the <code>drizzle-kit push</code> command. This is a convenient method for quickly testing new schema designs or modifications in a local development environment, allowing for rapid iterations without the need to manage migration files:</p>
<figure class="code-snippet lang-plaintext one-line-btn-container" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:var(--astro-code-token-function)">npx</span><span style="color:var(--astro-code-token-string)"> drizzle-kit</span><span style="color:var(--astro-code-token-string)"> push</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="npx drizzle-kit push
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure>
<p>Read more about the push command in <a href="/docs/drizzle-kit-push">documentation</a>.</p>
<div class="callout-label info" data-astro-cid-h2ah3sfh="">Tips</div><div class="callout-wrap" data-astro-cid-h2ah3sfh=""><div class="callout-content" data-astro-cid-h2ah3sfh=""><div class="content" data-astro-cid-h2ah3sfh=""><p>Alternatively, you can generate migrations using the <code>drizzle-kit generate</code> command and then apply them using the <code>drizzle-kit migrate</code> command:</p><p>Generate migrations:</p><figure class="code-snippet lang-plaintext one-line-btn-container" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:var(--astro-code-token-function)">npx</span><span style="color:var(--astro-code-token-string)"> drizzle-kit</span><span style="color:var(--astro-code-token-string)"> generate</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="npx drizzle-kit generate
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure><p>Apply migrations:</p><figure class="code-snippet lang-plaintext one-line-btn-container" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:var(--astro-code-token-function)">npx</span><span style="color:var(--astro-code-token-string)"> drizzle-kit</span><span style="color:var(--astro-code-token-string)"> migrate</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="npx drizzle-kit migrate
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure><p>Read more about migration process in <a href="/docs/kit-overview">documentation</a>.</p></div></div></div><script data-astro-rerun="" data-astro-exec="">
  document.querySelectorAll('.callout-wrap-collapsed').forEach((el) => el.addEventListener('click', (e) => {
      console.log('expand');
    e.target?.closest(".callout-wrap-collapsed")?.classList.remove('callout-wrap-collapsed');
  }))

  document.querySelectorAll("[data-callout-collapse-btn]").forEach((n) => {
    n.addEventListener("click", (e) => {
      e.stopPropagation();
      const parent = n.closest(".callout-wrap");
      if (parent) {
        parent.classList.add("callout-wrap-collapsed");
      }
    });
  });
</script>
<h4 id="step-7---seed-and-query-the-database">Step 7 - Seed and Query the database<a href="#step-7---seed-and-query-the-database" class="autolink-header"><span class="icon icon-link"></span></a></h4>
<p>Letâ€™s <strong>update</strong> the <code>src/index.ts</code> file with queries to create, read, update, and delete users</p>
<div> <figure class="code-snippet lang-plaintext has-title" style="position:relative"><figcaption class="header"><span class="title">src/index.ts</span><button aria-label="Copy" data-copy-btn="" class="button-wrap button-wrap--title" data-code="import 'dotenv/config';
import { drizzle } from 'drizzle-orm/libsql';
import { eq } from 'drizzle-orm';
import { usersTable } from './db/schema';
  
const db = drizzle(process.env.DB_FILE_NAME!);

async function main() {
  const user: typeof usersTable.$inferInsert = {
    name: 'John',
    age: 30,
    email: 'john@example.com',
  };

  await db.insert(usersTable).values(user);
  console.log('New user created!')

  const users = await db.select().from(usersTable);
  console.log('Getting all users from the database: ', users)
  /*
  const users: {
    id: number;
    name: string;
    age: number;
    email: string;
  }[]
  */

  await db
    .update(usersTable)
    .set({
      age: 31,
    })
    .where(eq(usersTable.email, user.email));
  console.log('User info updated!')

  await db.delete(usersTable).where(eq(usersTable.email, user.email));
  console.log('User deleted!')
}

main();
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="typescript"><code><span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-token-string-expression)"> 'dotenv/config'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { drizzle } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> 'drizzle-orm/libsql'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { eq } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> 'drizzle-orm'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">import</span><span style="color:var(--astro-code-color-text)"> { usersTable } </span><span style="color:var(--astro-code-token-keyword)">from</span><span style="color:var(--astro-code-token-string-expression)"> './db/schema'</span><span style="color:var(--astro-code-color-text)">;</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  </span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">const</span><span style="color:var(--astro-code-token-constant)"> db</span><span style="color:var(--astro-code-token-keyword)"> =</span><span style="color:var(--astro-code-token-function)"> drizzle</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-constant)">process</span><span style="color:var(--astro-code-color-text)">.</span><span style="color:var(--astro-code-token-constant)">env</span><span style="color:var(--astro-code-color-text)">.DB_FILE_NAME</span><span style="color:var(--astro-code-token-keyword)">!</span><span style="color:var(--astro-code-color-text)">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">async</span><span style="color:var(--astro-code-token-keyword)"> function</span><span style="color:var(--astro-code-token-function)"> main</span><span style="color:var(--astro-code-color-text)">() {</span></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">  const</span><span style="color:var(--astro-code-token-constant)"> user</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-keyword)"> typeof</span><span style="color:var(--astro-code-token-constant)"> usersTable</span><span style="color:var(--astro-code-color-text)">.$inferInsert </span><span style="color:var(--astro-code-token-keyword)">=</span><span style="color:var(--astro-code-color-text)"> {</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">    name</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-string-expression)"> 'John'</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">    age</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-constant)"> 30</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">    email</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-string-expression)"> 'john@example.com'</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">  };</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">  await</span><span style="color:var(--astro-code-token-constant)"> db</span><span style="color:var(--astro-code-token-function)">.insert</span><span style="color:var(--astro-code-color-text)">(usersTable)</span><span style="color:var(--astro-code-token-function)">.values</span><span style="color:var(--astro-code-color-text)">(user);</span></span>
<span class="line"><span style="color:var(--astro-code-token-constant)">  console</span><span style="color:var(--astro-code-token-function)">.log</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-string-expression)">'New user created!'</span><span style="color:var(--astro-code-color-text)">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">  const</span><span style="color:var(--astro-code-token-constant)"> users</span><span style="color:var(--astro-code-token-keyword)"> =</span><span style="color:var(--astro-code-token-keyword)"> await</span><span style="color:var(--astro-code-token-constant)"> db</span><span style="color:var(--astro-code-token-function)">.select</span><span style="color:var(--astro-code-color-text)">()</span><span style="color:var(--astro-code-token-function)">.from</span><span style="color:var(--astro-code-color-text)">(usersTable);</span></span>
<span class="line"><span style="color:var(--astro-code-token-constant)">  console</span><span style="color:var(--astro-code-token-function)">.log</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-string-expression)">'Getting all users from the database: '</span><span style="color:var(--astro-code-token-punctuation)">,</span><span style="color:var(--astro-code-color-text)"> users)</span></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">  /*</span></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">  const users: {</span></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">    id: number;</span></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">    name: string;</span></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">    age: number;</span></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">    email: string;</span></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">  }[]</span></span>
<span class="line"><span style="color:var(--astro-code-token-comment)">  */</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">  await</span><span style="color:var(--astro-code-color-text)"> db</span></span>
<span class="line"><span style="color:var(--astro-code-token-function)">    .update</span><span style="color:var(--astro-code-color-text)">(usersTable)</span></span>
<span class="line"><span style="color:var(--astro-code-token-function)">    .set</span><span style="color:var(--astro-code-color-text)">({</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">      age</span><span style="color:var(--astro-code-token-keyword)">:</span><span style="color:var(--astro-code-token-constant)"> 31</span><span style="color:var(--astro-code-token-punctuation)">,</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">    })</span></span>
<span class="line"><span style="color:var(--astro-code-token-function)">    .where</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-function)">eq</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-constant)">usersTable</span><span style="color:var(--astro-code-color-text)">.email</span><span style="color:var(--astro-code-token-punctuation)">,</span><span style="color:var(--astro-code-token-constant)"> user</span><span style="color:var(--astro-code-color-text)">.email));</span></span>
<span class="line"><span style="color:var(--astro-code-token-constant)">  console</span><span style="color:var(--astro-code-token-function)">.log</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-string-expression)">'User info updated!'</span><span style="color:var(--astro-code-color-text)">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-keyword)">  await</span><span style="color:var(--astro-code-token-constant)"> db</span><span style="color:var(--astro-code-token-function)">.delete</span><span style="color:var(--astro-code-color-text)">(usersTable)</span><span style="color:var(--astro-code-token-function)">.where</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-function)">eq</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-constant)">usersTable</span><span style="color:var(--astro-code-color-text)">.email</span><span style="color:var(--astro-code-token-punctuation)">,</span><span style="color:var(--astro-code-token-constant)"> user</span><span style="color:var(--astro-code-color-text)">.email));</span></span>
<span class="line"><span style="color:var(--astro-code-token-constant)">  console</span><span style="color:var(--astro-code-token-function)">.log</span><span style="color:var(--astro-code-color-text)">(</span><span style="color:var(--astro-code-token-string-expression)">'User deleted!'</span><span style="color:var(--astro-code-color-text)">)</span></span>
<span class="line"><span style="color:var(--astro-code-color-text)">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:var(--astro-code-token-function)">main</span><span style="color:var(--astro-code-color-text)">();</span></span></code></pre><div class="btn-container"></div></figure> </div>
<h4 id="step-8---run-indexts-file">Step 8 - Run index.ts file<a href="#step-8---run-indexts-file" class="autolink-header"><span class="icon icon-link"></span></a></h4>
<p>To run any TypeScript files, you have several options, but letâ€™s stick with one: using <code>tsx</code></p>
<p>Youâ€™ve already installed <code>tsx</code>, so we can run our queries now</p>
<p><strong>Run <code>index.ts</code> script</strong></p>
<div class="npm__wrapper"> <div class="npm__tabs"> <div class="npm__tab npm__tab--active" data-change-npm-btn=""> npm </div><div class="npm__tab" data-change-npm-btn=""> yarn </div><div class="npm__tab" data-change-npm-btn=""> pnpm </div><div class="npm__tab" data-change-npm-btn=""> bun </div> </div> <div class="npm__content"> <figure style="position: relative;" class="one-line-btn-container  code-snippet lang-shell "><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" lang="shell"><code><span class="line"><span style="color:var(--astro-code-token-function)">npx</span><span style="color:var(--astro-code-token-string)"> tsx src/index.ts</span></span></code></pre>
      <div class="btn-container">
  <button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="npx tsx src/index.ts">
    <svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path>
    </svg>
  </button>
</div>
    </figure><figure style="position: relative;" class="one-line-btn-container  code-snippet lang-shell hidden"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" lang="shell"><code><span class="line"><span style="color:var(--astro-code-token-function)">yarn</span><span style="color:var(--astro-code-token-string)"> tsx src/index.ts</span></span></code></pre>
      <div class="btn-container">
  <button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="yarn tsx src/index.ts">
    <svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path>
    </svg>
  </button>
</div>
    </figure><figure style="position: relative;" class="one-line-btn-container  code-snippet lang-shell hidden"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" lang="shell"><code><span class="line"><span style="color:var(--astro-code-token-function)">pnpm</span><span style="color:var(--astro-code-token-string)"> tsx src/index.ts</span></span></code></pre>
      <div class="btn-container">
  <button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="pnpm tsx src/index.ts">
    <svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path>
    </svg>
  </button>
</div>
    </figure><figure style="position: relative;" class="one-line-btn-container  code-snippet lang-shell hidden"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" lang="shell"><code><span class="line"><span style="color:var(--astro-code-token-function)">bunx</span><span style="color:var(--astro-code-token-string)"> tsx src/index.ts</span></span></code></pre>
      <div class="btn-container">
  <button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="bunx tsx src/index.ts">
    <svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
      <path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path>
    </svg>
  </button>
</div>
    </figure> </div> </div>
<div class="callout-label default" data-astro-cid-h2ah3sfh="">tips</div><div class="callout-wrap" data-astro-cid-h2ah3sfh=""><div class="callout-content" data-astro-cid-h2ah3sfh=""><div class="content" data-astro-cid-h2ah3sfh=""><p>We suggest using <code>bun</code> to run TypeScript files. With <code>bun</code>, such scripts can be executed without issues or additional
settings, regardless of whether your project is configured with CommonJS (CJS), ECMAScript Modules (ESM), or any other module format.
To run a script with <code>bun</code>, use the following command:</p><figure class="code-snippet lang-plaintext one-line-btn-container" style="position:relative"><figcaption class="header"></figcaption><pre class="astro-code css-variables" style="background-color:var(--astro-code-color-background);color:var(--astro-code-color-text);overflow-x:auto" tabindex="0" data-language="bash"><code><span class="line"><span style="color:var(--astro-code-token-function)">bun</span><span style="color:var(--astro-code-token-string)"> src/index.ts</span></span></code></pre><div class="btn-container"><button aria-label="Copy" data-copy-btn="" class="button-wrap" data-code="bun src/index.ts
"><svg class="ready" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg"><path d="M20 9H11C9.89543 9 9 9.89543 9 11V20C9 21.1046 9.89543 22 11 22H20C21.1046 22 22 21.1046 22 20V11C22 9.89543 21.1046 9 20 9Z" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path><path d="M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><svg class="success" width="20" height="20" viewBox="0 0 12 12" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.0242 3.1758C10.1367 3.28832 10.1999 3.4409 10.1999 3.6C10.1999 3.7591 10.1367 3.91168 10.0242 4.0242L5.2242 8.8242C5.11168 8.93668 4.9591 8.99987 4.8 8.99987C4.6409 8.99987 4.48832 8.93668 4.3758 8.8242L1.9758 6.4242C1.86651 6.31104 1.80603 6.15948 1.8074 6.00216C1.80876 5.84484 1.87186 5.69435 1.98311 5.58311C2.09435 5.47186 2.24484 5.40876 2.40216 5.4074C2.55948 5.40603 2.71104 5.46651 2.8242 5.5758L4.8 7.5516L9.1758 3.1758C9.28832 3.06332 9.4409 3.00013 9.6 3.00013C9.7591 3.00013 9.91168 3.06332 10.0242 3.1758Z"></path></svg></button></div></figure><p>If you donâ€™t have bun installed, check the <a href="https://bun.sh/docs/installation#installing">Bun installation docs</a></p></div></div></div><script data-astro-rerun="" data-astro-exec="">
  document.querySelectorAll('.callout-wrap-collapsed').forEach((el) => el.addEventListener('click', (e) => {
      console.log('expand');
    e.target?.closest(".callout-wrap-collapsed")?.classList.remove('callout-wrap-collapsed');
  }))

  document.querySelectorAll("[data-callout-collapse-btn]").forEach((n) => {
    n.addEventListener("click", (e) => {
      e.stopPropagation();
      const parent = n.closest(".callout-wrap");
      if (parent) {
        parent.classList.add("callout-wrap-collapsed");
      }
    });
  });
</script>  <div class="sub-on-newsletter" data-astro-cid-js6ukoo5=""></div>  <!-- <Footer /> --> </div>